<html>

<head>
    <script>
        function firequery()
        {
            let http = new XMLHttpRequest()//fires ajax call to server
            http.onload=function()//calls after response arrives
            {
                let jsonobj = JSON.parse(http.response)
                //console.log(http.response)
                document.getElementById("p1").innerHTML=`<h5>Message :${jsonobj.message}</h5>`
                   document.getElementById("p2").innerHTML=`<h5>Sender :${jsonobj.sender}</h5>`
            }
            http.open("GET","http://localhost:5000/message")
            http.send()
        }

        function firequery2()
        {
            let n = document.getElementById("num").value
            let obj = {num:n}
            let http = new XMLHttpRequest()
            http.onload=function()
            {
                let jsonobj = JSON.parse(http.response)
                console.log(http.response)
                document.getElementById("p3").innerHTML=`<h5>SQUARE :${jsonobj.sqr}</h5>`
            }
            http.open("POST","http://localhost:5000/square")
            http.setRequestHeader("Content-Type", "application/json");
            http.send(JSON.stringify(obj)); 
             console.log(http.response)
        }
    </script>
</head>
<body>
    <input type="button" value="getmessage" onclick="firequery()"/>
    <p id="p1"></p>
    <p id="p2"></p>
    <input type="number" id="num" >
    <br>
    <input type="button" value="postobject" onclick="firequery2()"/>
    <p id="p3"></p>
</body>
</html>